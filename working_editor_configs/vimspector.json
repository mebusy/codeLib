{
  "adapters": {
    "custom-codelldb": {
      "extends": "CodeLLDB",
      "command": [
        "$HOME/.vim/bundle/vimspector/gadgets/macos/CodeLLDB/adapter/codelldb",
        "--port",
        "${unusedLocalPort}"
      ]
    }
  },

  "configurations": {
    "[node] attach (debugger port)": {
      "adapter": "vscode-node",
      // "default": true,
      "breakpoints": {
        "exception": {
          "all": "N",
          "uncaught": "N"
        }
      },
      "configuration": {
        "name": "Attaching to a process ID",
        "type": "node",
        "request": "attach",
        "skipFiles": ["node_modules/**/*.js", "<node_internals>/**/*.js"],
        // provide default port
        "port": "${port:9229}",
        "processId": "$(lsof -ti:${port})"
      }
    },
    "[node] run (cur opened file)": {
      "adapter": "vscode-node",
      "breakpoints": {
        "exception": {
          "all": "N",
          "uncaught": "N"
        }
      },
      "configuration": {
        "name": "Launch Program",
        "type": "node",
        "request": "launch",
        "stopOnEntry": true,
        "skipFiles": ["node_modules/**/*.js", "<node_internals>/**/*.js"],
        "program": "${file}"
      }
    },
    "[go] run (cur opened file)": {
      "adapter": "vscode-go",
      "breakpoints": {
        "exception": {
          "all": "N",
          "uncaught": "N"
        }
      },
      "configuration": {
        "request": "launch",
        "program": "${file}",
        // ask user to profice the arguments
        "args": ["*${CommandLineArgs}"],
        "mode": "debug",
        "trace": true,
        "env": { "GO111MODULE": "on" },
        "cwd": "${cwd}"
      }
    }, // end [go] run

    "[python] run (cur opened file)": {
      "adapter": "debugpy",
      "breakpoints": {
        "exception": {
          "raised": "N",
          "uncaught": "",
          "userUnhandled": ""
        }
      },
      "configuration": {
        "request": "launch",
        "program": "${file}",
        "stopOnEntry": true,
        // ask user to profice the arguments
        // "args": ["*${CommandLineArgs}"]
        "cwd": "${cwd}"
      }
    }, // end python run

    "[c++ lldb]": {
      "adapter": "vscode-cpptools",
      "variables": {
        "BUILDME": {
          "shell": ["/bin/bash", "-c", "g++ -o dbg -g -std=c++17 *.cpp"]
        },
        "arch": {
          "shell": "uname -m"
        }
      },
      "configuration": {
        "cwd": "${cwd}",
        "request": "launch",
        "program": "${cwd}/dbg",
        "stopAtEntry": true,
        "MIMode": "lldb",
        "MIDebuggerPath": "$HOME/.vim/bundle/vimspector/gadgets/macos/vscode-cpptools/debugAdapters/lldb-mi/bin/lldb-mi",
        "logging": {
          "engineLogging": true
        },
        "targetArchitecture": "${arch}"
      }
    }, // end cpptools (lldb)

    "[c++ CodeLLDB]": {
      "adapter": "custom-codelldb",
      "breakpoints": {
        "exception": {
          "cpp_throw": "", // use default settting
          "cpp_catch": ""
        }
      },
      "filetypes": ["cpp"],
      "variables": {
        "BUILDME": {
          "shell": ["/bin/bash", "-c", "g++ -o dbg -g -std=c++17 *.cpp"]
        },
        "arch": {
          "shell": "uname -m"
        }
      },
      "configuration": {
        "cwd": "${cwd}",
        "request": "launch",
        "program": "${cwd}/dbg",
        "stopAtEntry": true,
        "logging": {
          "engineLogging": true
        },
        "targetArchitecture": "${arch}"
      }
    }, // end CodeLLDB

    "[c++ CodeLLDB] a.out": {
      "extends": "[c++ CodeLLDB]",
      "variables": {
        "BUILDME": {
          "shell": ["/bin/sh", "-c", "echo 'no build'"]
        }
      },
      "configuration": {
        "program": "${cwd}/a.out"
      }
    }
  } // end configurations
}
